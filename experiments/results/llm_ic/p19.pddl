To move the blocks and achieve the desired configuration, the optimal plan would be as follows:

1. Unstack b12 from b9.
2. Putdown b12.
3. Unstack b11 from b7.
4. Putdown b11.
5. Unstack b10 from b8.
6. Putdown b10.
7. Unstack b5 from b7.
8. Putdown b5.
9. Unstack b7 from b4.
10. Putdown b7.
11. Unstack b6 from b1.
12. Putdown b6.
13. Unstack b9 from b2.
14. Putdown b9.
15. Unstack b8 from b3.
16. Putdown b8.
17. Stack b6 on b12.
18. Stack b5 on b10.
19. Stack b7 on b11.
20. Stack b8 on b3.
21. Stack b9 on b2.
22. Stack b10 on b8.
23. Stack b11 on b7.
24. Stack b12 on b11.

Following this plan will result in the desired configuration where b5 is on top of b10, b6 is on top of b12, b7 is on top of b4, b8 is on top of b3, b9 is on top of b2, b10 is on top of b8, b11 is on top of b7, and b12 is on top of b11.